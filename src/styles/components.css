/* Component-specific styles - Clean separation */

/* Layout */
.layout-container {
  @apply min-h-screen;
}

/* Header - Legacy (mantener para compatibilidad) */
.header {
  @apply bg-white border-b border-gray-200 shadow-sm;
}

.header__content {
  @apply max-w-4xl mx-auto px-8 py-4 flex justify-between items-center;
  min-width: 0;
}

.header__left {
  @apply flex items-center space-x-4;
}

.header__title {
  @apply text-xl font-bold text-gray-900 whitespace-nowrap;
  flex-shrink: 1;
  min-width: 0;
}

.header__score {
  @apply flex items-center space-x-2 text-sm;
}

.header__right {
  @apply flex items-center space-x-2;
}

.header__button {
  @apply p-2 text-gray-600 hover:text-gray-800 transition-colors;
}

.header__user-button {
  @apply flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900;
}

.header__user-points {
  @apply text-xs text-gray-500;
}

/* Header Redesigned - Nueva implementación optimizada */
.header-redesigned {
  @apply bg-white border-b border-gray-200 shadow-sm;
  @apply sticky top-0 z-40;
}

.header-redesigned__container {
  @apply max-w-6xl mx-auto px-4 py-3;
  @apply flex items-center justify-between;
  @apply gap-4;
  min-height: 64px;
}

/* Left Section */
.header-redesigned__left {
  @apply flex items-center gap-3;
  @apply flex-shrink-0;
}

.header-redesigned__menu-btn {
  @apply p-2 rounded-lg;
  @apply text-gray-600 hover:text-gray-900 hover:bg-gray-100;
  @apply transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1;
}

.header-redesigned__brand {
  @apply flex items-center gap-2;
}

.header-redesigned__logo {
  @apply text-xl;
  @apply hidden sm:block;
}

.header-redesigned__title {
  @apply text-lg font-bold text-gray-900;
  @apply hidden sm:block;
}

/* Center Section */
.header-redesigned__center {
  @apply flex-1 flex justify-center;
  @apply max-w-md;
}

/* Right Section - Unified Control Area */
.header-redesigned__right {
  @apply flex items-center gap-4;
  @apply flex-shrink-0;
}

/* User Section */
.header-redesigned__user-section {
  @apply flex items-center;
}

.header-redesigned__user-btn {
  @apply flex items-center gap-2 px-3 py-2 rounded-lg;
  @apply text-gray-700 hover:text-gray-900 hover:bg-gray-50;
  @apply transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1;
  @apply border border-transparent hover:border-gray-200;
}

.header-redesigned__avatar {
  @apply w-8 h-8 rounded-full bg-blue-100 text-blue-600;
  @apply flex items-center justify-center;
  @apply flex-shrink-0;
}

.header-redesigned__user-info {
  @apply flex items-center;
  @apply hidden sm:flex;
}

.header-redesigned__username {
  @apply text-sm font-medium text-gray-900;
  @apply max-w-24 truncate;
}

.header-redesigned__login-btn {
  @apply flex items-center px-3 py-2 rounded-lg;
  @apply bg-blue-600 text-white hover:bg-blue-700;
  @apply transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1;
  @apply font-medium text-sm;
}

/* Unified Control Panel */
.header-redesigned__control-panel {
  @apply flex items-center;
  @apply bg-gray-50 dark:bg-gray-800;
  @apply border border-gray-200 dark:border-gray-600;
  @apply rounded-xl px-1 py-1;
  @apply shadow-sm;
}

.header-redesigned__control-group {
  @apply flex items-center gap-0;
}

.header-redesigned__control-btn {
  @apply p-2.5 rounded-lg;
  @apply text-gray-600 hover:text-gray-900 hover:bg-white;
  @apply dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700;
  @apply transition-all duration-200;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1;
  @apply border border-transparent hover:border-gray-200 dark:hover:border-gray-600;
  @apply shadow-sm hover:shadow-md;
}

/* Responsive Design */
@media (max-width: 640px) {
  .header-redesigned__container {
    @apply px-3 py-2 gap-2;
    min-height: 56px;
  }
  
  .header-redesigned__center {
    @apply max-w-none;
  }
  
  .header-redesigned__user-btn {
    @apply px-2 py-2;
  }
  
  .header-redesigned__avatar {
    @apply w-7 h-7;
  }
  
  .header-redesigned__actions {
    @apply gap-0;
  }
  
  .header-redesigned__action-btn {
    @apply p-1.5;
  }
}

@media (max-width: 480px) {
  .header-redesigned__container {
    @apply gap-1;
  }
  
  .header-redesigned__left {
    @apply gap-2;
  }
  
  .header-redesigned__right {
    @apply gap-2;
  }
}

/* Main Menu */
.menu {
  @apply max-w-4xl mx-auto my-2 bg-white pt-4 pb-6 px-4 rounded-lg shadow-sm;
}

.menu__title {
  @apply text-3xl font-bold text-center mb-8 text-gray-900;
}

.menu__search {
  @apply max-w-sm mx-auto mb-4;
}

.menu__grid {
  @apply bg-gray-50 rounded-xl p-2 border-2 border-gray-200 max-w-3xl mx-auto;
}

/* Optimización para modo web - contenedor más compacto */
@media (min-width: 640px) {
  .menu__grid {
    @apply max-w-2xl; /* Reducido de 3xl (768px) a 2xl (672px) */
  }
  
  .menu__grid-container {
    @apply gap-2; /* Reducido de gap-3 (12px) a gap-2 (8px) */
  }
}

.menu__grid-container {
  @apply grid gap-3 place-items-center;
}

/* Custom breakpoints - All responsive grid columns */
@media (max-width: 259px) {
  .menu__grid-container {
    @apply grid-cols-1;
  }
}

@media (min-width: 260px) and (max-width: 349px) {
  .menu__grid-container {
    @apply grid-cols-2;
  }
}

@media (min-width: 350px) and (max-width: 639px) {
  .menu__grid-container {
    @apply grid-cols-3;
  }
}

@media (min-width: 640px) and (max-width: 679px) {
  .menu__grid-container {
    @apply grid-cols-4;
  }
}

@media (min-width: 680px) and (max-width: 1023px) {
  .menu__grid-container {
    @apply grid-cols-5;
  }
}

@media (min-width: 1024px) {
  .menu__grid-container {
    @apply grid-cols-6;
  }
}

.menu__no-results {
  @apply text-center py-8;
}

.menu__no-results-text {
  @apply text-gray-500;
}

.menu__results-count {
  @apply mt-4 text-center text-sm text-gray-500;
}

/* Search */
.search {
  @apply relative;
}

.search__icon {
  @apply absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none;
}

.search__icon-svg {
  @apply h-4 w-4 text-gray-400;
}

.search__input {
  @apply w-full px-3 py-2 pl-10 pr-10 border border-gray-300 rounded-md text-sm bg-white;
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500;
}

.search__clear {
  @apply absolute inset-y-0 right-0 pr-3 flex items-center;
}

.search__clear-icon {
  @apply h-4 w-4 text-gray-400 hover:text-gray-600;
}

/* Buttons */
.btn {
  @apply px-3 py-1.5 rounded-md text-sm font-medium transition-colors;
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
}

.btn--primary {
  @apply bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500;
}

.btn--icon {
  @apply inline mr-1;
}

/* Loading States */
.loading {
  @apply min-h-screen bg-gray-50 flex items-center justify-center;
}

.loading > div {
  @apply text-center;
}

.loading__spinner {
  @apply animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4;
}

.loading__text {
  @apply text-gray-600;
}

/* Error States */
.error {
  @apply min-h-screen bg-gray-50 flex items-center justify-center;
}

.error > div {
  @apply text-center;
}

.error__message {
  @apply text-red-600 mb-4 font-semibold;
}

.error__details {
  @apply text-sm text-gray-600 mb-4;
}

/* Score Display */
.header__score {
  @apply flex items-center space-x-4 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-lg border;
}

.score__session {
  @apply flex items-center space-x-1 text-sm;
}

.score__global {
  @apply flex items-center space-x-1 text-sm border-l border-gray-300 dark:border-gray-600 pl-4;
}

.score__label {
  @apply text-gray-500 dark:text-gray-400 font-medium;
}

.score__correct {
  @apply text-green-600 dark:text-green-400 font-bold;
}

.score__separator {
  @apply text-gray-400 dark:text-gray-500;
}

.score__incorrect {
  @apply text-red-500 dark:text-red-400 font-bold;
}

.score__total {
  @apply text-gray-600 dark:text-gray-300;
}

.score__accuracy {
  @apply text-blue-600 dark:text-blue-400 font-medium ml-1;
}

.score__total-points {
  @apply text-purple-600 dark:text-purple-400 font-bold text-lg;
}

.score__points-label {
  @apply text-purple-500 dark:text-purple-400 text-xs font-medium;
}

/* Advanced Score Display */
.score-display {
  @apply flex items-center space-x-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 px-4 py-2 rounded-xl border border-blue-200 dark:border-gray-600 shadow-sm;
}

.score-display__session,
.score-display__global {
  @apply flex flex-col items-center space-y-1;
}

.score-display__global {
  @apply border-l border-blue-200 dark:border-gray-600 pl-4;
}

.score-display__label {
  @apply flex items-center space-x-1 text-xs font-medium text-gray-600 dark:text-gray-300;
}

.score-display__icon {
  @apply text-sm;
}

.score-display__values {
  @apply flex items-center space-x-1 text-sm font-bold;
}

.score-display__correct {
  @apply text-green-600 dark:text-green-400;
}

.score-display__separator {
  @apply text-gray-400 dark:text-gray-500;
}

.score-display__incorrect {
  @apply text-red-500 dark:text-red-400;
}

.score-display__accuracy {
  @apply flex items-center space-x-1 ml-2 px-2 py-1 bg-white dark:bg-gray-800 rounded-full border;
}

.score-display__total-points {
  @apply text-purple-600 dark:text-purple-400 text-lg font-bold;
}

.score-display__points-label {
  @apply text-purple-500 dark:text-purple-400 text-xs;
}

.score-display__level {
  @apply flex flex-col items-center space-y-1 ml-2;
}

.score-display__level-text {
  @apply text-xs font-bold text-orange-600 dark:text-orange-400;
}

.score-display__progress-bar {
  @apply w-12 h-1 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden;
}

.score-display__progress-fill {
  @apply h-full bg-gradient-to-r from-orange-400 to-yellow-400 transition-all duration-300;
}

/* Score Display Compact - Nueva implementación optimizada */
.score-display-compact {
  @apply bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700;
  @apply border border-blue-200 dark:border-gray-600;
  @apply rounded-xl px-3 py-2;
  @apply shadow-sm;
  @apply transition-all duration-200;
}

.score-display-compact__session {
  @apply flex items-center gap-2;
}

.score-display-compact__global {
  @apply flex items-center gap-3;
}

.score-display-compact__main {
  @apply flex items-center gap-2;
}

.score-display-compact__icon {
  @apply text-sm flex-shrink-0;
}

.score-display-compact__values {
  @apply flex items-center gap-1 text-sm font-bold;
}

.score-display-compact__correct {
  @apply text-green-600 dark:text-green-400;
}

.score-display-compact__separator {
  @apply text-gray-400 dark:text-gray-500;
}

.score-display-compact__incorrect {
  @apply text-red-500 dark:text-red-400;
}

.score-display-compact__accuracy {
  @apply text-xs font-medium text-blue-600 dark:text-blue-400;
  @apply bg-white dark:bg-gray-800 px-2 py-1 rounded-full;
  @apply border border-blue-200 dark:border-gray-600;
}

.score-display-compact__divider {
  @apply w-px h-6 bg-gray-300 dark:bg-gray-600;
}

.score-display-compact__level {
  @apply flex flex-col items-center gap-1;
}

.score-display-compact__level-badge {
  @apply text-xs font-bold text-orange-600 dark:text-orange-400;
  @apply bg-orange-100 dark:bg-orange-900 px-2 py-0.5 rounded-full;
}

.score-display-compact__points {
  @apply text-sm font-bold text-purple-600 dark:text-purple-400;
}

/* Responsive adjustments */
@media (max-width: 640px) {
  .score-display-compact {
    @apply px-2 py-1.5;
  }
  
  .score-display-compact__global {
    @apply gap-2;
  }
  
  .score-display-compact__main {
    @apply gap-1;
  }
  
  .score-display-compact__values {
    @apply text-xs;
  }
  
  .score-display-compact__accuracy {
    @apply text-xs px-1.5 py-0.5;
  }
  
  .score-display-compact__level-badge {
    @apply text-xs px-1.5 py-0.5;
  }
  
  .score-display-compact__points {
    @apply text-xs;
  }
}

@media (max-width: 480px) {
  .score-display-compact__icon {
    @apply hidden;
  }
  
  .score-display-compact__level {
    @apply flex-row gap-1;
  }
}

/* Score Display Tooltip - Legacy */
.score-display {
  @apply relative;
}

.score-display__tooltip {
  @apply absolute top-full left-1/2 transform -translate-x-1/2 mt-2 z-50;
}

.score-display__tooltip-content {
  @apply bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg p-4 min-w-64;
}

.score-display__tooltip-title {
  @apply text-sm font-bold text-gray-800 dark:text-gray-200 mb-3 text-center;
}

.score-display__tooltip-stats {
  @apply space-y-2 mb-3;
}

.score-display__tooltip-stat {
  @apply flex justify-between items-center text-sm;
}

.score-display__tooltip-label {
  @apply text-gray-600 dark:text-gray-400;
}

.score-display__tooltip-value {
  @apply font-bold text-gray-800 dark:text-gray-200;
}

.score-display__tooltip-progress {
  @apply border-t border-gray-200 dark:border-gray-600 pt-3;
}

.score-display__tooltip-progress-text {
  @apply text-xs text-center text-gray-500 dark:text-gray-400 font-medium;
}

/* Responsive */
@media (max-width: 640px) {
  .menu {
    @apply mx-1 my-1 pt-3 pb-4 px-3;
  }
  
  .menu__search {
    @apply mb-3;
  }
  
  .menu__grid {
    @apply max-w-sm overflow-y-auto;
    max-height: 330px; /* Reducido 10px */
  }
  
  .header__content {
    @apply px-4 py-3;
  }
}

@media (min-width: 641px) {
  .menu__grid {
    @apply overflow-y-auto;
    max-height: 440px; /* Agregado 10px más para modo web */
  }
}

/* Ajuste específico para 2-3 columnas que se ven cortadas */
@media (min-width: 260px) and (max-width: 639px) {
  .menu__grid {
    max-height: 330px; /* Aumentado 2px más para 3er botón completo */
  }
}

/* Dark Mode Styles */
.dark .header {
  @apply bg-gray-800 border-gray-700;
}

.dark .header__title {
  @apply text-white;
}

.dark .header__button {
  @apply text-gray-300 hover:text-white;
}

.dark .header__user-button {
  @apply text-gray-300 hover:text-white;
}

.dark .header__user-points {
  @apply text-gray-400;
}

/* Dark Mode - Header Redesigned */
.dark .header-redesigned {
  @apply bg-gray-900 border-gray-700;
}

.dark .header-redesigned__menu-btn {
  @apply text-gray-400 hover:text-white hover:bg-gray-800;
}

.dark .header-redesigned__title {
  @apply text-white;
}

.dark .header-redesigned__user-btn {
  @apply text-gray-300 hover:text-white hover:bg-gray-800 hover:border-gray-600;
}

.dark .header-redesigned__avatar {
  @apply bg-blue-900 text-blue-300;
}

.dark .header-redesigned__username {
  @apply text-gray-200;
}

.dark .header-redesigned__login-btn {
  @apply bg-blue-600 hover:bg-blue-700;
}

.dark .header-redesigned__action-btn {
  @apply text-gray-400 hover:text-white hover:bg-gray-800;
}

.dark .header-redesigned__control-panel {
  @apply bg-gray-800 border-gray-600;
}

.dark .header-redesigned__control-btn {
  @apply text-gray-400 hover:text-white hover:bg-gray-700 hover:border-gray-600;
}

/* Responsive Design for Header Redesigned */
@media (max-width: 640px) {
  .header-redesigned__container {
    @apply px-3 py-2 gap-2;
    min-height: 56px;
  }
  
  .header-redesigned__center {
    @apply max-w-none;
  }
  
  .header-redesigned__right {
    @apply gap-3;
  }
  
  .header-redesigned__user-btn {
    @apply px-2 py-2;
  }
  
  .header-redesigned__avatar {
    @apply w-7 h-7;
  }
  
  .header-redesigned__control-panel {
    @apply px-0.5 py-0.5;
  }
  
  .header-redesigned__control-btn {
    @apply p-2;
  }
}

@media (max-width: 480px) {
  .header-redesigned__container {
    @apply gap-1;
  }
  
  .header-redesigned__left {
    @apply gap-2;
  }
  
  .header-redesigned__right {
    @apply gap-2;
  }
  
  .header-redesigned__control-panel {
    @apply bg-transparent border-0 shadow-none px-0 py-0;
  }
  
  .header-redesigned__control-btn {
    @apply bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600;
  }
}

.dark .menu {
  @apply bg-gray-800;
}

.dark .menu__title {
  @apply text-white;
}

.dark .menu__grid {
  @apply bg-gray-700 border-gray-600;
}

.dark .search__input {
  @apply bg-gray-700 border-gray-600 text-white;
}

.dark .btn--primary {
  @apply bg-blue-600 hover:bg-blue-700;
}

.dark .loading {
  @apply bg-gray-900;
}

.dark .loading__text {
  @apply text-gray-300;
}

.dark .error {
  @apply bg-gray-900;
}

.dark .error__message {
  @apply text-red-400;
}

.dark .error__details {
  @apply text-gray-300;
}

/* Quiz Component Dark Mode */
.dark .quiz-container {
  @apply bg-gray-800 text-white;
}

.dark .quiz-question {
  @apply bg-gray-800 text-white;
}

.dark .quiz-option {
  @apply border-gray-600 text-white;
}

.dark .quiz-option:hover {
  @apply border-blue-400 bg-gray-700;
}

.dark .quiz-option--correct {
  @apply border-green-400 bg-green-900 text-green-200;
}

.dark .quiz-option--incorrect {
  @apply border-red-400 bg-red-900 text-red-200;
}

.dark .quiz-option--disabled {
  @apply border-gray-600 bg-gray-700 text-gray-400;
}

.dark .quiz-explanation {
  @apply bg-blue-900 border-blue-700 text-blue-200;
}

.dark .quiz-explanation h4 {
  @apply text-blue-100;
}

/* Flashcard 3D Flip Effect */
.flashcard {
  perspective: 1000px;
}

.flashcard-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
  transform: rotateY(180deg);
}

.flashcard-front,
.flashcard-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;
  border-radius: 12px;
}

.flashcard-back {
  transform: rotateY(180deg);
}