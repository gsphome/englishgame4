var N=Object.defineProperty;var l=(s,a)=>N(s,"name",{value:a,configurable:!0});import{c as f,r as c,u as v,a as k,b as S,d as E,j as e,e as L}from"./index-M6D_uxQG.js";import{u as F}from"./useLearningCleanup-CHNtf5mF.js";import{s as A}from"./randomUtils-7Ip2EMOC.js";import{R as D}from"./rotate-ccw-C5YwKoAy.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=f("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=f("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_=l(({module:s})=>{const[a,p]=c.useState(0),[i,h]=c.useState(!1),[u]=c.useState(Date.now()),{setCurrentView:x}=v(),{updateUserScore:y}=k(),{language:j}=S(),{addProgressEntry:w}=E(),{t:b}=L(j);F();const r=c.useMemo(()=>{if(!(s!=null&&s.data))return[];const n=s.data;return A(n)},[s==null?void 0:s.data]),t=r[a],o=l(()=>{if(a<r.length-1)p(a+1),h(!1);else{const n=Math.floor((Date.now()-u)/1e3);w({score:100,totalQuestions:r.length,correctAnswers:r.length,moduleId:s.id,learningMode:"flashcard",timeSpent:n}),y(s.id,r.length,n),x("menu")}},"handleNext"),g=l(()=>{a>0&&(p(a-1),h(!1))},"handlePrev"),d=l(()=>{h(!i)},"handleFlip");return c.useEffect(()=>{if(r.length===0)return;const n=l(m=>{switch(m.key){case"ArrowRight":m.preventDefault(),o();break;case"ArrowLeft":m.preventDefault(),g();break;case"Enter":case" ":m.preventDefault(),i?o():d();break;case"Escape":x("menu");break}},"handleKeyPress");return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[a,r.length,i,d,o,g,x]),r.length?e.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s.name}),e.jsxs("span",{className:"text-sm font-medium text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:[a+1,"/",r.length]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${(a+1)/r.length*100}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:i?"Press Enter/Space for next card":"Click card or press Enter/Space to flip"})]}),e.jsx("div",{className:`flashcard relative h-56 sm:h-64 w-full cursor-pointer ${i?"flipped":""}`,onClick:d,children:e.jsxs("div",{className:"flashcard-inner",children:[e.jsxs("div",{className:"flashcard-front bg-white dark:bg-gray-700 shadow-lg border border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-gray-900 dark:text-white text-center mb-2",children:(t==null?void 0:t.en)||"Loading..."}),(t==null?void 0:t.ipa)&&e.jsx("p",{className:"text-base sm:text-lg text-gray-500 dark:text-gray-300 text-center mb-3",children:t.ipa}),(t==null?void 0:t.example)&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 italic text-center px-2",children:['"',t.example,'"']})]}),e.jsxs("div",{className:"flashcard-back bg-blue-50 dark:bg-blue-900 shadow-lg border border-blue-200 dark:border-blue-700",children:[e.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-900 dark:text-white text-center mb-1",children:(t==null?void 0:t.en)||"Loading..."}),(t==null?void 0:t.ipa)&&e.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-300 text-center mb-2",children:t.ipa}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-900 dark:text-blue-100 text-center mb-3",children:(t==null?void 0:t.es)||"Loading..."}),(t==null?void 0:t.example)&&e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic mb-1 px-2",children:['"',t.example,'"']}),t.example_es&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 italic px-2",children:['"',t.example_es,'"']})]})]})]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 flex-wrap mt-6",children:[e.jsx("button",{onClick:g,disabled:a===0,className:"p-2.5 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-700 rounded-lg transition-colors shadow-sm",title:"Previous Card (←)",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium shadow-sm w-[140px] justify-center",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:i?"Flip Back":"Flip"})]}),e.jsx("button",{onClick:o,className:"p-2.5 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors shadow-sm",title:a===r.length-1?"Finish":"Next Card (→)",children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),e.jsx("button",{onClick:l(()=>x("menu"),"onClick"),className:"flex items-center gap-1 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:"← Menu"})]})]}):e.jsxs("div",{className:"max-w-6xl mx-auto p-3 sm:p-6 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:b("noDataAvailable")||"No flashcards available"}),e.jsx("button",{onClick:l(()=>x("menu"),"onClick"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:b("navigation.mainMenu")})]})},"FlashcardComponent");export{_ as default};
